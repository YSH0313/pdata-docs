---
title: 节点
icon: fa-brands:linode
createTime: 2024/04/16 22:40:03
permalink: /guide/06gzfsis/
---

在前面使用 [Docker](../installation/2.docker) 部署服务中，细心的同学会发现已经提到过关于节点的一些事情，但并没有详细的说明关于节点的具体事情，在这里会统一讲解。

## 介绍

前面已经讲到服务端的主从节点并无二致，关键就在于启动脚本的选择，那么为什么还要分主从节点呢？这是因为主节点需要管理和存储所有的任务实例文件，而在执行的时候主节点会通过 `grpc`
架构通知子节点从主节点上拉取最新的相关文件。也就是说主从节点最大的区别就在于 `任务实例文件`
的管理和调用，这也是为了保证在移除销毁子节点时我们的 `任务实例文件` 完整的存在于主节点上。

## 主从关系

::: center
![主从关系](/nodes/Master-slave.png)
:::
这里只演示了一个子节点的情况，多节点的时候也是同样的，都是由主节点来对子节点进行调度，任务分发，由子节点主动去主节点拉取最新 `任务实例文件`
之后将任务状态反馈到主节点。

::: tip
主节点只能有一个，如果部署了两个主节点，那么它们之间不会存在通信，分别为独立的主节点。
:::

## 节点使用

- 创建任务时可以主动选择执行节点
- 运行任务时可以指定节点运行任务
- 在资源监控页面可以 `查看节点状态`
- 在资源监控页面可以 `添加新起节点`

## 主节点

主节点是整个系统的核心，它负责调度各个节点，处理节点间的通信，给子节点分配 `任务` 接受状态反馈，保存和管理 `任务实例文件`
，同时也是和前端服务交互的 `API` 服务。

## 子节点

受主节点的调度负责 `任务` 的执行，它的能力受限于所部署机器的性能（CPU、内存、磁盘空间等），所以一般在我们想提升服务集群性能的时候，可以通过提升子节点的机器配置或数量即可达成目的。
