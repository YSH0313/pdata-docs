import{_ as h,c as k,f as r,a as s,b as l,d as a,e as i,r as o,o as c}from"./app-DgHb7HAz.js";const u={},y={class:"vp-file-tree"},m={class:"tree-node folder"},g={class:"tree-node file"},f={class:"tree-node file"},v={class:"tree-node file"},b={class:"tree-node file"},D={class:"tree-node file"},A={class:"tree-node file"},C={class:"tree-node file"},B={class:"tree-node file"};function _(x,e){const d=o("RouteLink"),p=o("ImageCard"),t=o("VPIcon"),n=o("FileTreeItem");return c(),k("div",null,[e[15]||(e[15]=r('<p>Since our development philosophy focuses on rapid deployment and scalability, Docker is the easiest way to deploy PDATA. We have already prepared a one-click Docker build script, making the deployment process seamless and hassle-free. I will now guide you through the steps.</p><h3 id="install-docker" tabindex="-1"><a class="header-anchor" href="#install-docker"><span>Install Docker</span></a></h3><ul><li>Before you begin, make sure that <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/" target="_blank" rel="noopener noreferrer">Docker-Compose</a> are already installed on your machine. If you haven&#39;t installed them yet, you can visit the Docker Official Website and Docker-Compose Documentation to complete the installation.</li></ul><h2 id="pull-the-service-code" tabindex="-1"><a class="header-anchor" href="#pull-the-service-code"><span>Pull the Service Code</span></a></h2>',4)),s("ul",null,[s("li",null,[e[1]||(e[1]=l("On the ")),a(d,{to:"/en/guide/quick-start.html"},{default:i(()=>e[0]||(e[0]=[l("Quick Start")])),_:1}),e[2]||(e[2]=l(" page, you can learn how to obtain our service code and start an instance."))])]),e[16]||(e[16]=s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"Tips"),s("p",null,[l("In the following guide, all steps will be based on the assumption that "),s("code",null,"Docker"),l(" and "),s("code",null,"Docker-Compose"),l(" have been installed and the corresponding service code has been pulled.")])],-1)),e[17]||(e[17]=s("h2",{id:"main-node-deployment",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#main-node-deployment"},[s("span",null,"Main Node Deployment")])],-1)),a(p,{image:"/SND.png",title:"Main Node Deployment, can also be used as a single node",description:"As the main node, it can control any of the subsequent sub-node machines we expand to. If used as a single node, it will still provide excellent performance as a single-node service.",href:"/",author:"yuanshaohang",date:"2024/05/21"}),s("p",null,[e[4]||(e[4]=l("In PDATA, unlike traditional standalone nodes, the main node and sub-nodes in this system are essentially the same, supporting and replacing each other. This means that once you have created a service based on the ")),a(d,{to:"/en/guide/quick-start.html"},{default:i(()=>e[3]||(e[3]=[l("Quick Start")])),_:1}),e[5]||(e[5]=l(" guide, the main node is already set up. What you need to focus on now is whether you need to create additional sub-nodes."))]),e[18]||(e[18]=s("h2",{id:"sub-node-deployment",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#sub-node-deployment"},[s("span",null,"Sub-node Deployment")])],-1)),a(p,{image:"/Nodes.png",title:"Expand sub-nodes to make the system more highly available, robust, and feature-rich",description:`
The main node manages task files, controls the distribution of tasks to sub-nodes, monitors the resource status of each sub-node, automatically synchronizes task files between master and slave nodes, and enables rapid and convenient development and deployment.`,href:"/",author:"yuanshaohang",date:"2024/05/21"}),e[19]||(e[19]=r(`<p>If you have already mastered the deployment of the main node, deploying sub-nodes will be even simpler for you, with just one key difference!</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><ol><li>The master and slave nodes can connect with each other.</li><li>The ports for the worker nodes, 5052 (API) and 8889 (gRPC), are open.</li></ol></div><ol start="3"><li></li></ol><p>Start Deployment</p><ul><li>First, navigate to the project root directory, and then execute the script.</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +x</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload_server_grpc.sh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload_server_grpc.sh</span></span></code></pre></div><h2 id="mysql-database" tabindex="-1"><a class="header-anchor" href="#mysql-database"><span>MySQL Database</span></a></h2><p>You may have noticed that the above steps use MySQL as the database management tool. If you already have an existing MySQL service available, you can directly modify the <code>setting</code> configuration in the backend project code to use it.</p><div class="language-python" data-ext="python" data-title="python"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mysql </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MYSQL_HOST</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your host name</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MYSQL_DBNAME</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your dbname</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MYSQL_USER</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your user </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">MYSQL_PASSWORD</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your password</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">PORT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your pory</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre></div><ul><li>Execute the SQL file to create the table structure.</li><li>Navigate to the SQL file directory.</li></ul><div class="language-bash" data-ext="bash" data-title="bash"><button class="copy" title="Copy code" data-copied="Copied"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> data_backend/single_process/my_sql</span></span></code></pre></div><ul><li>You can see the following SQL files:</li></ul>`,12)),s("div",y,[s("ul",null,[a(n,{type:"folder",expanded:!0,empty:!1},{default:i(()=>[s("span",m,[a(t,{name:"vscode-icons:default-folder"}),e[6]||(e[6]=s("span",{class:"name"},"my_sql",-1))]),s("ul",null,[a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",g,[a(t,{name:"vscode-icons:file-type-sql"}),e[7]||(e[7]=s("span",{class:"name"},"p_cron_info.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",f,[a(t,{name:"vscode-icons:file-type-sql"}),e[8]||(e[8]=s("span",{class:"name"},"p_data_board.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",v,[a(t,{name:"vscode-icons:file-type-sql"}),e[9]||(e[9]=s("span",{class:"name"},"p_disk_info.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",b,[a(t,{name:"vscode-icons:file-type-sql"}),e[10]||(e[10]=s("span",{class:"name"},"p_node_info.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",D,[a(t,{name:"vscode-icons:file-type-sql"}),e[11]||(e[11]=s("span",{class:"name"},"p_output.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",A,[a(t,{name:"vscode-icons:file-type-sql"}),e[12]||(e[12]=s("span",{class:"name"},"p_project_info.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",C,[a(t,{name:"vscode-icons:file-type-sql"}),e[13]||(e[13]=s("span",{class:"name"},"p_quota_info.sql",-1))])]),_:1}),a(n,{type:"file",expanded:!1,empty:!0},{default:i(()=>[s("span",B,[a(t,{name:"vscode-icons:file-type-sql"}),e[14]||(e[14]=s("span",{class:"name"},"p_SpiderList_monitor.sql",-1))])]),_:1})])]),_:1})])]),e[20]||(e[20]=s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"Tips"),s("p",null,"Execute the SQL files in sequence to ensure that the table structures have been created in the database.")],-1)),e[21]||(e[21]=s("p",null,"At this point, you have successfully deployed a main node and a sub-node. To expand to more sub-nodes, simply repeat the same steps (excluding the database setup) on the target machines.",-1))])}const q=h(u,[["render",_],["__file","index.html.vue"]]),S=JSON.parse('{"path":"/en/guide/lwwf78k0/","title":"Docker","lang":"en-US","frontmatter":{"title":"Docker","icon":"devicon:docker","createTime":"2024/12/06 22:40:03","permalink":"/en/guide/lwwf78k0/"},"headers":[],"readingTime":{"minutes":1.88,"words":564},"git":{"updatedTime":1741000553000,"contributors":[{"name":"袁少航","username":"袁少航","email":"yuanshaohang@dataoceanai.com","commits":1,"avatar":"https://avatars.githubusercontent.com/袁少航?v=4","url":"https://github.com/袁少航"}]},"filePathRelative":"en/guide/installation/2.docker.md","bulletin":false}');export{q as comp,S as data};
